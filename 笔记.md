#### 禁止div点击事件

```css
 div {
        pointer-events: none;
    }
```

#### css修改图片颜色是否变黑白

```css
div{
	filter: grayscale(0%);//图片真实颜色
	filter: grayscale(100%)、、图片为黑白
}
```

#### 判断判断通过什么设备和浏览器来访问

```javascript
var u_agent = navigator.userAgent;
//（打印值：Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36）
```

#### **获取屏幕可视化高度**

```javascript
var client = document.documentElement.clientHeight
```

#### 获取标签与页面顶部的距离（只能用id来获取）

```javascript
var centerc4 = document.getElementById('center3').offsetTop
```

#### 注册鼠标滚动事件

```javascript
window.onscroll = function () {
var scrollT = document.documentElement.scrollTop || document.body.scrollTop;   //鼠标滚动页面顶部和滚动的距离
}   
```

### 页面滚动窗口距离触发事件（滚到屏幕元素标签呈现在屏幕上触发事件）

例子：

```css
<style>
	html,
	body,
	div,
	img,
	a,
	span,
	input,
	ul,
	li,
	p,
	input,
	button,
	table,
	tr,
	td,
	th {
		margin: 0;
		padding: 0;
		-webkit-box-sizing: border-box;
		box-sizing: border-box;
	}

	html {
		width: 100%;
		height: 100%;
		font-family: "Avenir", Helvetica, Arial, sans-serif;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	body {
		color: #000;
		font-size: 20px;
		max-width: 1920px;
		min-width: 1250px;
		margin: 0 auto;
		background-color: #fff;
		position: relative;
	}

	ul,
	li {
		list-style: none;
	}

	textarea,
	input {
		resize: none;
		outline: 0;
		-webkit-appearance: none;
		white-space: pre-wrap;
		word-wrap: break-word;
		border: 0;
		padding: 0 10px;
	}

	select {
		outline: 0;
		border: 0;
		background-color: transparent;
	}

	a,
	a:active,
	a:hover,
	a:focus,
	a:visited {
		text-decoration: none;
	}

	button {
		border: 0;
		outline: none;
		background-color: transparent;
	}

	/* vue component transition */
	.fade-enter-active,
	.fade-leave-active {
		transition: all 0.4s ease;
	}

	.fade-enter,
	.fade-leave-to {
		opacity: 0;
	}

	/* animated  */
	.animated {
		-webkit-animation-duration: 1s;
		-webkit-animation-fill-mode: both;
		animation-duration: 1s;
		animation-fill-mode: both
	}

	@keyframes fadeInLeft {
		0% {
			-webkit-transform: translate3d(-100%, 0, 0);
			opacity: 0;
			transform: translate3d(-100%, 0, 0)
		}

		to {
			-webkit-transform: translateZ(0);
			opacity: 1;
			transform: translateZ(0)
		}
	}

	.fadeInLeft {
		-webkit-animation-name: fadeInLeft;
		animation-name: fadeInLeft
	}

	@keyframes fadeInRight {
		0% {
			-webkit-transform: translate3d(100%, 0, 0);
			opacity: 0;
			transform: translate3d(100%, 0, 0)
		}

		to {
			-webkit-transform: translateZ(0);
			opacity: 1;
			transform: translateZ(0)
		}
	}

	.fadeInRight {
		-webkit-animation-name: fadeInRight;
		animation-name: fadeInRight
	}

	@keyframes fadeInUp {
		0% {
			-webkit-transform: translate3d(0, 100%, 0);
			opacity: 0;
			transform: translate3d(0, 100%, 0)
		}

		to {
			-webkit-transform: translateZ(0);
			opacity: 1;
			transform: translateZ(0)
		}
	}

	.fadeInUp {
		-webkit-animation-name: fadeInUp;
		animation-name: fadeInUp
	}

	.common {
		opacity: 0;
		animation-duration: 2.5s;
	}

	.asd {
		width: 1000px;
		height: 100px;
		margin: 500px auto;
		background: red;
	}

	.dong {
		height: 1000px;
	}
</style>
```

```html
<body>
	<div class="dong">
		<div class='animated fadeInLeft common asd'> </div>
		<div class='animated fadeInRight common asd'> </div>
		<div class='animated  common asd' id="but"> </div>

	</div>

</body>
```



```javascript
<script>
	// var myVar = setInterval(function () {
	// 	clearInterval(myVar);
	// }, 3000);
	window.onscroll = function () {
		var scrollT = document.documentElement.scrollTop || document.body.scrollTop; //鼠标滚动页面顶部和滚动的距离
		if (isView(document.getElementById('but'))) {
			setTimeout(() => {
				console.log(123)
				$('#but').addClass('fadeInUp')
			}, 1000)
		}
	}


	function isView(el) {
		const scrollTop = document.documentElement.scrollTop || document.body.scrollTop
		const viewPortHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight

		let actualTop = el.offsetTop
		let current = el.offsetParent

		while (current !== null) {
			actualTop += current.offsetTop
			current = current.offsetParent
		}

		return viewPortHeight + scrollTop > actualTop + 100
	}
</script>
```

### 计时器

 setInterval() - 间隔指定的毫秒数不停地执行指定的代码。 

 setTimeout() - 在指定的毫秒数后执行指定代码。 

 clearInterval() 方法用于停止 setInterval() 方法执行的函数代码。 

```javascript
 var myVar = setInterval(function () {
	 	clearInterval(myVar);
	}, 3000);
```



#### 同页面点击a标签后跳转到可视化内容标签C1上（锚点跳转）

```html
<li> <a href="#C1">首页</a> </li>  
<div><a name="C1">同页面点击首页跳转到我这里</div>
```

#### find遍历筛选

```javascript
var arr = [{ a: 1, b: 2 }, { c: 3 }, { d: 4 }, { e: 6 }, 5]   
arr.find(function (item) {  
    return item.a = 1 
})
```

find只要满足item.a=1,返回对应的内容{ a: 1, b: 2 }

####  Object.assign()合并多个对象

```javascript
var target = { a: 1, b: 1 };
var source1 = { b: 2, c: 2 };
var source2 = { c: 3 }; 
Object.assign(target, source1, source2);   // {a:1, b:2, c:3}
```

####  克隆对象:Object.assign([], arr)为克隆对象

```javascript
var arr = { a: 1, b: 2, c: 3 } 
var asd = Object.assign([], arr)
asd.a = 8;
console.log(asd)//{ a: 8, b: 2, c: 3 }
console.log(arr)//{ a: 1, b: 2, c: 3 }
```

克隆对象，从本质上克隆，改变ads对象的属性也不会影响到arr对象的值

# 各种时间格式转换

案例：

## Mon Nov 04 2019 10:57:13 GMT+0800 (中国标准时间)转为('utc'时间)'2019-11-04T02:57:13.166Z'

案例：

```javascript
var d=new Date();
var n=d.toISOString();
```



#### 时间戳格式转换毫秒→2019-10-14 14:34:33（yyyy-mm-dd-hh-mm-ss）

案例：

```javascript
function timeFilter (time) {
  let date = new Date(time) // 时间戳为10位需*1000，时间戳为13位的话不需乘1000
  let Y = date.getFullYear() + '-'
  let M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-'
  let D = date.getDate() < 10 ? '0' + date.getDate() + ' ' : date.getDate() + ' '
  let h = date.getHours() < 10 ? '0' + date.getHours() + ':' : date.getHours() + ':'
  let m = date.getMinutes() < 10 ? '0' + date.getMinutes() + ':' : date.getMinutes() + ':'
  let s = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds()
  return Y + M + D + h + m + s
}
```

#### 时间戳格式转换（毫秒→M分钟前，M小时前，M天前，M周前,M个月前，M年前）

案例：

```javascript
function getDateDiff (dateTimeStamp) {
  var minute = 1000 * 60
  var hour = minute * 60
  var day = hour * 24
  var month = day * 30
  var year=month * 12
  var now = new Date().getTime()
  var diffValue = now - new Date(dateTimeStamp).getTime()
  if (diffValue < 0) { return }
  var yearC = diffValue / year 
  var monthC = diffValue / month
  var weekC = diffValue / (7 * day)
  var dayC = diffValue / day
  var hourC = diffValue / hour
  var minC = diffValue / minute
  var result
  if(yearC >= 1){
    result = '' + parseInt(yearC) + '年前'
  }else if (monthC >= 1) {
    result = '' + parseInt(monthC) + '月前'
  } else if (weekC >= 1) {
    result = '' + parseInt(weekC) + '周前'
  } else if (dayC >= 1) {
    result = '' + parseInt(dayC) + '天前'
  } else if (hourC >= 1) {
    result = '' + parseInt(hourC) + '小时前'
  } else if (minC >= 1) {
    result = '' + parseInt(minC) + '分钟前'
  } else { result = '刚刚' }
  return result
}
```

### css打开页面动画效果（）

#### 打开页面后div向左或者向右从距离width0开始运动

```css
html,
body,
div,
img,
a,
span,
input,
ul,
li,
p,
input,
button,
table,
tr,
td,
th {
  margin: 0;
  padding: 0;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
html {
  width: 100%;
  height: 100%;
  font-family: "Avenir", Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
body {
  color: #000;
  font-size: 20px;
  max-width: 1920px;
  min-width: 1250px;
  margin: 0 auto;
  background-color: #fff;
  position: relative;
}
ul,
li {
  list-style: none;
}
textarea,
input {
  resize: none;
  outline: 0;
  -webkit-appearance: none;
  white-space: pre-wrap;
  word-wrap: break-word;
  border: 0;
  padding: 0 10px;
}
select {
  outline: 0;
  border: 0;
  background-color: transparent;
}
a,
a:active,
a:hover,
a:focus,
a:visited {
  text-decoration: none;
}
button {
  border: 0;
  outline: none;
  background-color: transparent;
}
/* vue component transition */
.fade-enter-active,
.fade-leave-active {
  transition: all 0.4s ease;
}
.fade-enter,
.fade-leave-to {
  opacity: 0;
}
/* animated  */
.animated {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: both;
  animation-duration: 1s;
  animation-fill-mode: both
}
@keyframes fadeInLeft {
  0% {
      -webkit-transform: translate3d(-100%,0,0);
      opacity: 0;
      transform: translate3d(-100%,0,0)
  }
  to {
      -webkit-transform: translateZ(0);
      opacity: 1;
      transform: translateZ(0)
  }
}
.fadeInLeft {
  -webkit-animation-name: fadeInLeft;
  animation-name: fadeInLeft
}
@keyframes fadeInRight {
  0% {
      -webkit-transform: translate3d(100%,0,0);
      opacity: 0;
      transform: translate3d(100%,0,0)
  }
  to {
      -webkit-transform: translateZ(0);
      opacity: 1;
      transform: translateZ(0)
  }
}
.fadeInRight {
  -webkit-animation-name: fadeInRight;
  animation-name: fadeInRight
}
@keyframes fadeInUp {
  0% {
      -webkit-transform: translate3d(0,100%,0);
      opacity: 0;
      transform: translate3d(0,100%,0)
  }
  to {
      -webkit-transform: translateZ(0);
      opacity: 1;
      transform: translateZ(0)
  }
}
.fadeInUp {
  -webkit-animation-name: fadeInUp;
  animation-name: fadeInUp
}
.common {
  opacity: 0;
  animation-duration: 2.5s;
}

```

```html
用法：
<div class='animated fadeInLeft common'> </div> //打开页面div向左移动
<div class='animated fadeInRight common'> </div> //打开页面div向右移动
<div class='animated fadeInUp common'> </div> //打开页面div向上移动
```

#### 在页面里无限微动

```css
    .pric-1 {
            position: absolute;
            right: 48.6%;
            top: 0;


            animation: bannerLeftMove 2s linear infinite alternate;

        }

        .pric-2 {
            position: absolute;
            left: 51.4%;
            top: 0;


            animation: bannerRightMove 2s linear infinite alternate;

        }

        @keyframes bannerLeftMove {
            from {
                transform: translateX(0px);
            }

            to {
                transform: translateX(10px) scale(1.02, 1.02);
            }
        }

        @keyframes bannerRightMove {
            from {
                transform: translateX(0px);
            }

            to {
                transform: translateX(-10px) scale(1.02, 1.02);//scale(x,y)缩放大小倍数
            }
        }
```

```html
用法：
<div class='pric-1'>像左微动</div>
<div class='pric-1'>像右微动</div>
```

#### 刷新页面

```javascript
window.location.reload()
```

#### toLocaleString（切换各个国家的时间,逗号分隔符）

时间切换：

```javascript
const date = new Date();
date.toLocaleString('zh');    // 2018/4/4 下午15:08:38
date.toLocaleString('en');    // 4/4/2018, 3:08:38 PM

```

逗号千分位分隔符

```javascript
const num = 2333333;
num.toLocaleString();   // 2,333,333
```

# 26个常用易忘CSS小技巧

[ https://juejin.im/post/5da3a357f265da5b6723ee1e ]

#### html链接标题

![1571134660050](..\笔记\img\1571134660050.png)

```html
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Join the interview and get massive reward!!">  //标题
  <meta property="og:description" content="Give us your precious feedback and help us be better!!">//副标题
  <meta property="og:image" content="https://pokemon.gamobi.com/order/share.png">
  <link rel="icon" href="<%= BASE_URL %>favicon.ico"> //图标
  <title>PokéUniverse</title>
</head>
```

#### 九宫图抽奖案例

提供材料：

![](..\笔记\img\square.png)

```css
<style>
        .lottery {
            width: 970px;
            height: 840px;
            margin-top: 40px;
            margin-left: 55px;
            padding: 35px;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            -webkit-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between;
            -ms-flex-line-pack: justify;
            align-content: space-between;
        }

        .lottery-unit {
            width: 284px;
            height: 244px;
            position: relative;
        }

        .lottery-unit-1 {
            background: url(./img/square.png) -10px -10px;
        }

        .lottery-unit-2 {
            background: url(./img/square.png) -314px -10px;
        }

        .lottery-unit-3 {
            background: url(./img/square.png) -10px -274px;
        }

        .lottery-unit-8 {
            background: url(./img/square.png) -314px -274px;
        }

        .start {
            width: 284px;
            height: 244px;
            background: url(./img/square.png) -618px -10px;
            outline: none;
            border: none;
        }

        .lottery-unit-4 {
            background: url(./img/square.png) -618px -274px;
        }

        .lottery-unit-5 {
            background: url(./img/square.png) -10px -538px;
        }

        .lottery-unit-6 {
            background: url(./img/square.png) -314px -538px;
        }

        .lottery-unit-7 {
            background: url(./img/square.png) -618px -538px;
        }

        .active::before {
            content: '';
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-color: rgba(0, 0, 0, .3);
        }
    </style>
```

```html
<body>
    <div class="lottery" id="lottery">
        <li class="lottery-unit lottery-unit-1 "></li>
        <li class="lottery-unit lottery-unit-2"></li>
        <li class="lottery-unit lottery-unit-3"></li>
        <li class="lottery-unit lottery-unit-8"></li>
        <button class="start" id="btn"></button>
        <li class="lottery-unit lottery-unit-4"></li>
        <li class="lottery-unit lottery-unit-7"></li>
        <li class="lottery-unit lottery-unit-6"></li>
        <li class="lottery-unit lottery-unit-5"></li>
    </div>
</body>
```

```javascript
<script>
    var last_index = 0, //上一回滚动的位置
        amplification_index = 0, //轮盘的当前滚动位置,0表示为第一次
        roll_flag = true, //是否允许滚动
        max_number = 8, //轮盘的全部数量
        speed = 300, //速度，速度值越大，则越慢 初始化为300
        finalindex = 8, //最终的奖励
        myInterval = "", //定时器
        max_speed = 40, //滚盘的最大速度
        minturns = 8, //最小的圈数为2
        runs_now = 0; //当前已跑步数
    var btn = document.querySelector('.start')
    btn.onclick = function () {

        rolling()
    }
    function rolling() {

        myInterval = setTimeout(function () {
            rolling();
        }, speed);
        runs_now++; //已经跑步数加一
        amplification_index++; //当前的加一
        //获取总步数
        var count_num = minturns * max_number + finalindex - last_index;
        // console.log(count_num);
        //上升期间
        if (runs_now <= (count_num / 3) * 2) {
            speed -= 30; //加速
            if (speed <= max_speed) {
                speed = max_speed; //最高速度为40；
            }
        }
        //抽奖结束
        else if (runs_now >= count_num) {
            clearInterval(myInterval);
            last_index = amplification_index;
            roll_flag = true;
            if (runs_now > count_num) {
                alert('请不要重新点击')
                return
            }

        }
        //下降期间
        else if (count_num - runs_now <= 10) {
            speed += 20;
        }
        //缓冲区间
        else {
            speed += 10;
            if (speed >= 100) {
                speed = 100; //最低速度为100；
            }
        }
        if (amplification_index > max_number) { //判定！是否大于最大数
            amplification_index = 1;
        }

        //刷新页面
        var strli = ".lottery-unit-";
        strli += amplification_index;
        //全部清除

        document.querySelectorAll('li').forEach(function (item, index) {
            item.classList.remove('active')
        })
        //画颜色
        document.querySelector(strli).classList.add('active')
    }
</script>
```

实现效果图：

![](..\笔记\img\Snipaste_2019-10-16_10-20-10.png)

#### 

### 数组常用方法

| **方法**      | **对应版本** | **描述**                                                     | **是否改变原数组** |
| ------------- | ------------ | ------------------------------------------------------------ | ------------------ |
| concat()      | ES5-         | 合并数组，并返回合并之后的数据                               | N                  |
| join()        | ES5-         | 使用分隔符，将数组转为字符串并返回                           | N                  |
| shift()       | ES5-         | 删除第一位，并返回删除的数据                                 | Y                  |
| pop()         | ES5-         | 删除最后一位，并返回删除的数据                               | Y                  |
| unshift()     | ES5-         | 在第一位新增一或多个数据，返回长度                           | Y                  |
| push()        | ES5-         | 在最后一位新增一或多个数据，返回长度                         | Y                  |
| reverse()     | ES5-         | 反转数组，返回结果                                           | Y                  |
| slice()       | ES5-         | 截取指定位置的数组，并返回据                                 | N                  |
| sort()        | ES5-         | 排序（字符规则），返回结果                                   | Y                  |
| splice()      | ES5-         | 删除指定位置，并替换，返回删除的数据                         | Y                  |
| toString()    | ES5-         | 直接转为字符串，并返回                                       | N                  |
| valueOf()     | ES5-         | 返回数组对象的原始值                                         | N                  |
| indexOf()     | ES5-         | 查询并返回数据的索引                                         | N                  |
| lastIndexOf() | ES5-         | 反向查询并返回数据的索引                                     | N                  |
| forEach()     | ES5-         | 参数为回调函数，会遍历数组所有的项，回调函数接受三个参数，分别为value，index，self；forEach没有返回值 | N                  |
| map()         | ES5-         | 同forEach，同时回调函数返回数据，组成新数组由map返回         | N                  |
| filter()      | ES5-         | 同forEach，同时回调函数返回布尔值，为true的数据组成新数组由filter返回 | N                  |
| every()       | ES5-         | 同forEach，同时回调函数返回布尔值，全部为true，由every返回true | N                  |
| some()        | ES5-         | 同forEach，同时回调函数返回布尔值，只要由一个为true，由some返回true | N                  |
| reduce()      | ES5-         | 归并，同forEach，迭代数组的所有项，并构建一个最终值，由reduce返回 | N                  |
| reduceRight() | ES5-         | 反向归并，同forEach，迭代数组的所有项，并构建一个最终值，由reduceRight返回 | N                  |

#### concat()

```javascript
 var a = [1,2,3];
    console.log(a.concat(4,5));//(5) [1, 2, 3, 4, 5]
    console.log(a.concat(1,[1,2,3],2));//(8) [1, 2, 3, 1, 1, 2, 3, 2]
    console.log(a.concat([4,5,6]));//(6) [1, 2, 3, 4, 5, 6]
    console.log(a.concat([4,5,[1,2,3],7]));//(7) [1, 2, 3, 4, 5, Array(3), 7]
    console.log(a);//(3) [1, 2, 3]
```

 注释后为输出结果，由以上整理可以得出concat()方法**不会该改变原数组**，**返回值为一个新数组**。需要注意的是a.concat(1,[1,2,3],2),并不会把[1,2,3],当成一个数组连接。 

#### join()

```javascript
var arr = ["A","b","c","d"];
    console.log(arr.join());//A,b,c,d
    console.log(arr.join("$"));//A$b$c$d
    console.log(arr);//(4) ["A", "b", "c", "d"]

```

 join()方法**不会改变原数组**，返回值为一个**由参数拼接的字符串**；当里面的参数为空时，**默认使用逗号分隔**，有参数时使用参数分隔。 

#### pop()

```javascript
var arr = ["A","b","c","d"];
    console.log(arr.pop());//d
    console.log(arr.pop());//c
    console.log(arr);//(2) ["A", "b"]
```

 **pop()方法会改变原数组，它的返回值为被删除的元素。** 

#### push()

```javascript
 var arr = ["A","b","c","d"];
    console.log(arr.push("e"));//5
    console.log(arr.push("g","h","i"));//8
    console.log(arr);(8) //["A", "b", "c", "d", "e", "g", "h", "i"]

```

 **push()方法会改变原数组，返回值为添加后的数组长度。** 

#### reverse()

```javascript
   var arr = ["A","b","c","d"];
    console.log(arr.reverse());//(4) ["d", "c", "b", "A"]
    console.log(arr) //(4) ["d", "c", "b", "A"]
```

 **reverse()方法会改变原数组，返回值为原数组。** 

#### shift()

```javascript
 var arr = ["A","b","c","d"];
    console.log(arr.reverse());//(4) ["d", "c", "b", "A"]
    console.log(arr);(8) //(4) ["d", "c", "b", "A"]
```

 **shift()方法会改变原数组，返回值为被删除的值。** 

#### unshift()

```javascript
 var arr = ["A","b","c","d"];
    console.log(arr.unshift());//4
    console.log(arr.unshift("e",2));//6
    console.log(arr);(8) //(6) ["e", 2, "A", "b", "c", "d"]

```

 **unshift()方法会改变原数组，返回值为删除后数组的长度。** 

#### slice()

 语法：arrayObject.slice(start,end) 

| 参数  | **描述**                                                     |
| ----- | ------------------------------------------------------------ |
| start | 必需。规定从何处开始选取。如果是负数，那么它规定从数组尾部开始算起的位置。也就是说，-1 指最后一个元素，-2 指倒数第二个元素，以此类推。 |
| end   | 可选。规定从何处结束选取。该参数是数组片断结束处的数组下标。如果没有指定该参数，那么切分的数组包含从 start 到数组结束的所有元素。如果这个参数是负数，那么它规定的是从数组尾部开始算起的元素。 |

```javascript
 var arr = ["A","b","c","d"];
    console.log(arr.slice(0));//(4) ["A", "b", "c", "d"]
    console.log(arr.slice(2,4));//(2) ["c", "d"]
    console.log(arr.slice(-3,2));//["b"]
    console.log(arr); //(4) ["A", "b", "c", "d"]

```

 **slice()方法不会改变原数组，返回值为选定的一个新的元素数组。** 

#### splice()

 arrayObject.splice(index,howmany,item1,…,itemX) 

| **参数**        | **描述**                                                     |
| --------------- | ------------------------------------------------------------ |
| index           | 必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。 |
| howmany         | 必需。要删除的项目数量。如果设置为 0，则不会删除项目。       |
| item1, …, itemX | 可选。向数组添加的新项目。                                   |

```javascript
var arr = ["A","b","c","d"];
    console.log(arr.splice(0,1));//["A"] 删除 返回被删除的元素
    console.log(arr); //(3) ["b", "c", "d"]
    console.log(arr.splice(0,0,"e","f"));//[] 添加 ,未删除元素，所以返回一个空数组   前两个参数一样可以指定添加位置 
    console.log(arr); //(5) ["e", "f", "b", "c", "d"]
    console.log(arr.splice(0,2,"x"));//(2) ["e", "f"] 替换 返回被替换的元素
    console.log(arr); //(4) ["x", "b", "c", "d"]

```

 **splice()方法会改变原数组，返回值参考上方代码。** 

#### sort()

```javascript
var arr = [22,14,120,89,5,7];
    console.log(arr.sort());//(6) [120, 14, 22, 5, 7, 89]
    var arr1 = arr.sort(function(a,b){
        return a-b;
    });
    console.log(arr1);//(6) [5, 7, 14, 22, 89, 120]
    
    var arr2 = arr.sort(function(a,b){
        return b -a;
    });
    console.log(arr2);//(6) [120, 89, 22, 14, 7, 5]

```

 不填写参数，默认以字符串进行比较，可通过使用回调函数进行数值比较。
**sort()会改变原数组，返回值为排序后的数组** 

#### toString()

```javascript
var arr = ["A","b","c","d"];
    console.log(arr.toString());//A,b,c,d
    console.log(arr);//(4) ["A", "b", "c", "d"]
```

 **toString()不会改变原数组，返回值以逗号分隔的字符串** 

#### valueOf()

```javascript
var arr = ["A","b","c","d"];
    console.log(arr.valueOf("b"));//A,b,c,d
    console.log(arr);//(4) ["A", "b", "c", "d"]
    console.log(arr === arr.valueOf()); //true

```

 **valueOf()返回数组本身** 

#### indexOf()

```javascript
var arr = ["A","b","c","d"];
    console.log(arr.indexOf("c"));//2
    console.log(arr.indexOf("e"));//-1
    console.log(arr);//(4) ["A", "b", "c", "d"]

```

 **indexOf()不会改变原数组，会在数组中查找输入的参数是否存在，如果存在，则返回该元素的索引，遇到第一个符合条件的就返回，如果不存在，则返回-1；** 

#### lastIndexOf()

```javascript
var arr = ["h","e","l","l","o"];
    console.log(arr.lastIndexOf("l"));        //3
    console.log(arr.lastIndexOf("l",3));      //3
    console.log(arr.lastIndexOf("l",1));      //-1
    console.log(arr.lastIndexOf("l",-3));     //2
    console.log(arr.lastIndexOf("l",-4));     //-1

```

 **与indexof()类似，是从后往前查找** 

#### forEach()

```javascript
var arr = [1, 2, 3, 4, 5];
arr.forEach(function(i, index,a){
console.log(i+ ',' + index + ',' + (a ===arr));
});
//1,0,true
//2,1,true
//3,2,true
//4,3,true
//5,4,true

```

 **对数组进行遍历循环，对数组中的每一项运行给定函数。这个方法没有返回值。参数都是function类型，默认有传参，参数分别为：遍历的数组内容；第对应的数组索引，数组本身。** 

#### map()

```
//同forEach
var arr = ["Tom","Jack","Lucy","Lily","May"];
    var a = arr.map(function(value,index,self){
        console.log(value + "--" + index + "--" + (arr === self))
    })
    // 打印结果为：
    // Tom--0--true
    // Jack--1--true
    // Lucy--2--true
    // Lily--3--true
    // May--4--true

    //每次回调函数的返回值被map组成新数组返回
    var arr = ["Tom","Jack","Lucy","Lily","May"];
    var a = arr.map(function(value,index,self){
        return "hi:"+value;
    })
    console.log(a);     //["hi:Tom", "hi:Jack", "hi:Lucy", "hi:Lily", "hi:May"]
    console.log(arr);   //["Tom", "Jack", "Lucy", "Lily", "May"]---原数组未改变

```

 **同forEach功能；map的回调函数会将执行结果返回，最后map将所有回调函数的返回值组成新数组返回。** 

#### filter()

```javascript
//同forEach
    var arr = ["Tom","Jack","Lucy","Lily","May"];
    var a = arr.filter(function(value,index,self){
        console.log(value + "--" + index + "--" + (arr === self))
    })
    // 打印结果为：
    // Tom--0--true
    // Jack--1--true
    // Lucy--2--true
    // Lily--3--true
    // May--4--true

    //当回调函数的返回值为true时，本次的数组值返回给filter，被filter组成新数组返回
    var arr = ["Tom","Jack","Lucy","Lily","May"];
    var a = arr.filter(function(value,index,self){
        return value.length > 3;
    })
    console.log(a);         //["Jack", "Lucy", "Lily"]
    console.log(arr);       //["Tom", "Jack", "Lucy", "Lily", "May"]---原数组未改变

```

 **同forEach功能；filter的回调函数需要返回布尔值，当为true时，将本次数组的数据返回给filter，最后filter将所有回调函数的返回值组成新数组返回（此功能可理解为“过滤”）。** 

#### every()

```javascript
var arr = [1, 2, 3, 4, 5];
    var arr2 = arr.every(function (x) {
        return x < 10;
    });
    console.log(arr2);//true
    var arr3 = arr.every(function (x) {
        return x < 3;
    });
    console.log(arr3);// false

```

 **判断数组中每一项都是否满足条件，只有所有项都满足条件，才会返回true。** 

#### some()

```javascript
  var arr = [1, 2, 3, 4, 5];
        var arr2 = arr.some(function (x) {
            return x < 3;
        });
        console.log(arr2);//true
        var arr3 = arr.some(function (x) {
            return x < 1;
        });
        console.log(arr3);// false
```

 **判断数组中是否存在满足条件的项，只要有一项满足条件，就会返回true。** 

#### reduce()

```javascript
 var values = [1, 2, 3, 4, 5];
            var sum = values.reduce(function (prev, cur, index, array) {
                return prev + cur;
            }, 10);
            console.log(sum);//25
```

 **从数组的第一项开始，逐个遍历到最后，迭代数组的所有项，然后构建一个最终返回的值。** 

### 利用charCodeAt()和sort()来实现字母A-Z的排序顺序

```javascript
var arr = ['A', 'B', 'CASD', 'DQWE', 'E', 'F'];
    var arr1 = arr.sort(function (a, b) {
        return a.charCodeAt(0) - b.charCodeAt(0)
    })
    console.log(arr1)  //["A", "B", "CASD", "DQWE", "E", "F"]
```

charCodeAt(0)表示第一个字符串;先利用charCodeAt(0)把A转换为数字通过sort（）内置方法进行排序

### 模拟后台数据平台

 [https://www.mocky.io](https://www.mocky.io/) 

# 各种文件上传攻略，从小图片到大文件断点续传

链接： https://juejin.im/post/5da14778f265da5bb628e590 



## 修改input(checkbox多选,radio单选)的样式

双选：

```vue
<template>
  <div>
    <div class="box">
      <ul>
        <li
          @click="Licolor=!Licolor;Licolor? checkVal[0]='A' :checkVal[0]=''"
          :class="{'Licolor':Licolor}"
        >
          <div class="box1"> <input
              v-model="checkVal"
              value="A"
              type="checkbox"
              name="A"
              id="A"
            >
            <label
              style="width:150px"
              @click="Licolor=!Licolor"
              for="A"
            >阿士大夫撒打算的发送到发送到发送</label>
          </div>
        </li>  
      </ul>
      <div @click="asd">按钮</div>
    </div>
  </div>
</template>
<script>

export default {
    
    data(){
        return{
            checkVal:[],
            Licolor:false
        }
            
    },
    methods:{
        asd(){
            console.log(this.Licolor)
            console.log(this.checkVal)
            
        }
    }
}
</script>
```



```css
input[type="checkbox"] {
  /* cursor: pointer; */
  visibility: hidden;
  position: relative;
  margin: 0 10px 0px 10px;
  width: 12px;
  height: 12px;
  font-size: 12px;
}

input[type="checkbox"]::after {
  position: absolute;
  top: 0;
  border: 1px solid #999;
  color: #000;
  width: 14px;
  height: 14px;
  display: inline-block;
  visibility: visible;
  padding-left: 0px;
  text-align: center;
  content: " ";
  border-radius: 3px;
}

input[type="checkbox"]:checked::after {
  /* content: "✓"; */
  position: absolute;
  border: 1px solid royalblue;
  content: "✓";
  color: royalblue;
  font-size: 14px;
  line-height: 14px;
  font-weight: bold;
}
```

单选：

```vue
<div class="boxradil box">
      <ul>
        <li :class="{'Licolor':radioVal==='A'}">
          <div class="box1"> <input
              type="radio"
              name=""
              id="radioVal"
              value="A"
              v-model="radioVal"
            >
            <label
              style="width:150px"
              for="radioVal"
            >asdf</label>
          </div>
        </li>
        <li :class="{'Licolor':radioVal==='B'}">
          <div class="box1"> <input
              type="radio"
              name=""
              id="radioVal1"
              value="B"
              v-model="radioVal"
            >
            <label
              style="width:150px"
              for="radioVal1"
            >asdf</label>
          </div>
        </li>
      </ul>
    </div>
```

```css
input[type="radio"] {
  /* cursor: pointer; */
  visibility: hidden;
  position: relative;
  margin: 0 10px 0px 10px;
  width: 12px;
  height: 12px;
  font-size: 12px;
}

input[type="radio"]::after {
  position: absolute;
  top: 0;
  border: 1px solid #999;

  color: #000;
  width: 14px;
  height: 14px;

  display: inline-block;
  visibility: visible;
  padding-left: 0px;
  text-align: center;
  content: " ";
  border-radius: 50%;
}

input[type="radio"]:checked::after {
  /* content: "✓"; */
  position: absolute;
  border: 1px solid royalblue;
  content: "●";
  color: royalblue;
  font-size: 14px;
  line-height: 12px;
  font-weight: bold;
}
```

## 后台管理，侧边导航栏（动态权限管理思路）

#### 路由方面的设置

```javascript
import Vue from 'vue'
import Router from 'vue-router'

// in development-env not use lazy-loading, because lazy-loading too many pages will cause webpack hot update too slow. so only in production use lazy-loading;
// detail: https://panjiachen.github.io/vue-element-admin-site/#/lazy-loading

Vue.use(Router)

/* Layout */
import Layout from '../views/layout/Layout'

/**
* hidden: true                   if `hidden:true` will not show in the sidebar(default is false)
* alwaysShow: true               if set true, will always show the root menu, whatever its child routes length
*                                if not set alwaysShow, only more than one route under the children
*                                it will becomes nested mode, otherwise not show the root menu
* redirect: noredirect           if `redirect:noredirect` will no redirct in the breadcrumb
* name:'router-name'             the name is used by <keep-alive> (must set!!!)
* meta : {
    title: 'title'               the name show in submenu and breadcrumb (recommend set)
    icon: 'svg-name'             the icon show in the sidebar,
  }
**/
export const constantRouterMap = [{
  path: '/login',
  component: () => import('@/views/login/index'),
  hidden: true
},
{
  path: '/404',
  component: () => import('@/views/404'),
  hidden: true
},
{
  path: '/',
  component: Layout,
  redirect: '/homePage',
  name: '首页',
  hidden: true,
  children: [{
    name: 'homePage',
    path: 'homePage',
    component: () => import('@/views/homepage/index')
  }]
}
]

export default new Router({
  // mode: 'history', //后端支持可开
  scrollBehavior: () => ({
    y: 0
  }),
  routes: constantRouterMap
})
// 异步挂载的路由
// 动态需要根据权限加载的路由表
export const asyncRouterMap = [
  // 数据图表
  {
    name: 'dashboard',
    path: '/dashboard',
    component: Layout,
    redirect: '/retained/index',
    children: [{
      path: 'index',
      name: 'dashboard',
      component: () => import('@/views/dashboard/index'),
      meta: {
        title: '数据图表',
        icon: 'chart'
      }
    }]
  },
  // 数据统计
  {
    path: '/retained',
    component: Layout,
    redirect: '/retained/loginRetained',
    name: 'retained',
    meta: {
      title: '数据统计',
      icon: 'retained'
    },
    children: [{
      path: 'loginRetained',
      name: 'loginRetained',
      component: () => import('@/views/retained/loginRetained'),
      meta: {
        title: '登录留存',
        icon: 'retained'
      }
    },
    {
      path: 'rechargeRetained',
      name: 'rechargeRetained',
      component: () => import('@/views/retained/rechargeRetained'),
      meta: {
        title: '付费留存',
        icon: 'retained'
      }
    },
    {
      path: 'revenue',
      name: 'revenue',
      component: () => import('@/views/retained/revenue'),
      meta: {
        title: '收入统计',
        icon: 'retained'
      }
    }
    ]
  },
  // 玩家管理
  {
    path: '/player',
    component: Layout,
    redirect: '/player/recharge',
    name: 'playerMgr',
    meta: {
      title: '玩家管理',
      icon: 'user'
    },
    children: [{
      path: 'record',
      name: 'record',
      component: () => import('@/views/player/operationRecord'),
      meta: {
        title: '操作记录',
        icon: 'user'
      }
    },
    {
      path: 'register',
      name: 'playerReg',
      component: () => import('@/views/player/register'),
      meta: {
        title: '玩家信息',
        icon: 'user'
      }
    },
    {
      path: 'recharge',
      name: 'playerRecharge',
      component: () => import('@/views/player/recharge'),
      meta: {
        title: '玩家充值',
        icon: 'user'
      }
    },
    {
      path: 'playerLogin',
      name: 'playerLogin',
      component: () => import('@/views/player/login'),
      meta: {
        title: '玩家登录',
        icon: 'user'
      }
    },
    {
      path: 'activation',
      name: 'activation',
      component: () => import('@/views/player/activation'),
      meta: {
        title: '激活信息',
        icon: 'user'
      }
    }
    ]
  },
  // 游戏管理
  {
    path: '/game',
    component: Layout,
    redirect: '/game/gameManage',
    name: 'gameMgr',
    meta: {
      title: '游戏管理',
      icon: 'game'
    },
    children: [{
      path: 'gameManage',
      name: 'gameInfo',
      component: () => import('@/views/game/gameManage'),
      meta: {
        title: '游戏信息',
        icon: 'game'
      }
    },
    {
      path: 'gameGroup',
      name: 'gameGroup',
      component: () => import('@/views/game/gameGroup'),
      meta: {
        title: '游戏组管理',
        icon: 'game'
      }
    },
    {
      path: 'iosRecord',
      name: 'iosRecord',
      component: () => import('@/views/game/iosRecord'),
      meta: {
        title: 'ios审核管理',
        icon: 'game'
      }
    }
    ]
  },
  // 渠道管理
  {
    path: '/channelmgr',
    component: Layout,
    name: 'channelMgr',
    children: [{
      path: 'index',
      name: 'channelMgr',
      component: () => import('@/views/channelmgr/index'),
      meta: {
        title: '渠道管理',
        icon: 'channel'
      }
    }]
  },
  // cps管理
  {
    path: '/cps',
    component: Layout,
    name: 'cpMgr',
    children: [{
      path: 'index',
      name: 'cpMgr',
      component: () => import('@/views/cps/index'),
      meta: {
        title: '游戏提供商管理',
        icon: 'cps'
      }
    }]
  },
  // 系统设置
  {
    path: '/set',
    component: Layout,
    name: 'sysSettings',
    meta: {
      title: '系统设置',
      icon: 'setting'
    },
    children: [{
      path: 'version',
      name: 'version',
      component: () => import('@/views/set/version'),
      meta: {
        title: '版本管理',
        icon: 'setting'
      }
    },
    {
      path: 'setNav',
      name: 'setNav',
      component: () => import('@/views/set/setNav'),
      meta: {
        title: '导航设置',
        icon: 'setting'
      }
    },
    {
      path: 'setGroup',
      name: 'userGroup',
      component: () => import('@/views/set/setGroup'),
      meta: {
        title: '用户组',
        icon: 'setting'
      }
    },
    {
      path: 'setUser',
      name: 'userSet',
      component: () => import('@/views/set/setUser'),
      meta: {
        title: '用户',
        icon: 'setting'
      }
    },
    {
      path: 'groupPermison',
      name: 'groupPermison',
      hidden: true,
      component: () => import('@/views/set/groupPermison'),
      meta: {
        title: '用户组权限设置',
        icon: 'setting'
      }
    },
    {
      path: 'paymentSet',
      name: 'paymentSet',
      component: () => import('@/views/paymentSet/index'),
      meta: {
        title: '支付设置',
        icon: 'setting'
      }
    }
    ]
  },
  {
    path: '*',
    redirect: '/404',
    hidden: true
  }
]

```

#### vuex的设置

```javascript
import {
  login,
  getInfo
} from '@/api/login'
import {
  getToken,
  setToken,
  removeToken
} from '@/utils/auth'
import {
  asyncRouterMap,
  constantRouterMap
} from '@/router'
//过滤本地路由的条件
function hasPermission(routes, route) {
  if (route.name) {
    return routes.some(item => route.name.indexOf(item) >= 0)
  } else {
    return true
  }
}
const user = {
  state: {
    token: getToken(),
    name: '',
    avatar: '',
    roles: [],
    routers: constantRouterMap,
    addRouters: [],
    permission: ''
  },

  mutations: {
    SET_TOKEN: (state, token) => {
      state.token = token
    },
    SET_NAME: (state, name) => {
      state.name = name
    },
    SET_AVATAR: (state, avatar) => {
      state.avatar = avatar
    },
    SET_ROLES: (state, roles) => {
      state.roles = roles
    },
    SET_ROUTERS: (state, routers) => {
      state.addRouters = routers
      state.routers = constantRouterMap.concat(routers)
      localStorage.setItem('routers', JSON.stringify(state.routers))
    },
    SET_PERMISON: (state, permission) => {
      state.permission = permission
    },
    AAA: () => {
      console.log(132)
    }
  },

  actions: {
    // 登录
    Login({
      commit
    }, userInfo) {
      const username = userInfo.name.trim()
      return new Promise((resolve, reject) => {
        login(username, userInfo.pwd).then(response => {
          console.log(response)
          const data = response.data.token
          //后台返回的权限路由
          //后台返回的格式["iosRecord", "cpMgr", "channelMgr", "playerMgr", "retained", "gameMgr", "playerRecharge", "record", "userSet", "setNav", "userGroup", "groupPermison", "paymentSet", "loginRetained", "rechargeRetained", "dashboard", "sysSettings", "playerLogin", "activation"]
          const routes = [...response.data.routers]
          commit('SET_NAME', response.data.username)
          commit('SET_ROLES', routes)
          if (response.data.permissions.indexOf('CRUD_ADMIN_SUPER') !== -1) {
            commit('SET_PERMISON', true)
          }
          setToken(data)
            //从本地路由过滤，匹配后台的路由，然后返回
          const accessedRouters = asyncRouterMap.filter(v => {
            if (hasPermission(routes, v)) {
              if (v.children && v.children.length > 0) {
                v.children = v.children.filter(child => {
                  if (hasPermission(routes, child)) {
                    return child
                  }
                  return false
                })
                return v
              } else {
                return v
              }
            }
            return false
          })
          console.log(accessedRouters)
          commit('SET_TOKEN', data)
            //把过滤完的本地路由保存在vuex上
          commit('SET_ROUTERS', accessedRouters)
          resolve()
        }).catch(error => {
          reject(error)
        })
      })
    },
    GetUserInfo({
      commit
    }, routers) {
      console.log('routes', routes)
      const routes = [...routers]
      const accessedRouters = asyncRouterMap.filter(v => {
        if (hasPermission(routes, v)) {
          if (v.children && v.children.length > 0) {
            v.children = v.children.filter(child => {
              if (hasPermission(routes, child)) {
                return child
              }
              return false
            })
            return v
          } else {
            return v
          }
        }
        return false
      })
      commit('SET_ROUTERS', accessedRouters)
    },
    // 获取用户信息
    GetInfo({
      commit,
      state
    }) {
      return new Promise((resolve, reject) => {
        getInfo(state.token).then(response => {
          const data = response.data
          if (data.roles && data.roles.length > 0) { // 验证返回的roles是否是一个非空数组
            commit('SET_ROLES', data.roles)
          } else {
            reject('getInfo: roles must be a non-null array !')
          }
          commit('SET_NAME', data.name)
          commit('SET_AVATAR', data.avatar)
          resolve(response)
        }).catch(error => {
          reject(error)
        })
      })
    },

    // 登出
    LogOut({
      commit,
      state
    }) {
      return new Promise((resolve, reject) => {
        commit('SET_TOKEN', '')
        // commit('SET_ROLES', [])
        removeToken()
        window.localStorage.removeItem('vuex')
        // logout(state.token).then(() => {
        //   commit('SET_TOKEN', '')
        //   // commit('SET_ROLES', [])
        //   removeToken()
        //   resolve()
        // }).catch(error => {
        //   reject(error)
        // })
        location.reload()
      })
    },

    // 前端 登出
    FedLogOut({
      commit
    }) {
      return new Promise(resolve => {
        commit('SET_TOKEN', '')
        removeToken()
        resolve()
        window.localStorage.removeItem('vuex')
      })
    }
  }
}

export default user

```

#### 实现导航栏

父组件

```vue
<template>
  <el-scrollbar wrapClass="scrollbar-wrapper">
    <el-menu
      mode="vertical"
      :show-timeout="200"
      :default-active="$route.path"
      :collapse="isCollapse"
      background-color="#304156"
      text-color="#bfcbd9"
      active-text-color="#409EFF"
    >
      <sidebar-item :routes="routes"></sidebar-item>
    </el-menu>
  </el-scrollbar>
</template>

<script>
import { mapGetters } from 'vuex'
import SidebarItem from './SidebarItem'

import request from '@/utils/request'
import { setToken, getGameGroupId, setGameGroupId } from '@/utils/auth'

// import user from '@/store/modules/user.js'
export default {
  components: { SidebarItem },
  computed: {
    ...mapGetters([
      'sidebar'
    ]),
    routes() {
      return this.$router.options.routes
      // return user.state.routers
    },
  } 
}
</script>

```

```vue
<template>
  <div class="menu-wrapper">
    <template
      v-for="item in routes"
      v-if="!item.hidden&&item.children"
    >

      <router-link
        v-if="hasOneShowingChildren(item.children) && !item.children[0].children&&!item.alwaysShow"
        :to="item.path+'/'+item.children[0].path"
        :key="item.children[0].name"
      >
        <el-menu-item
          :index="item.path+'/'+item.children[0].path"
          :class="{'submenu-title-noDropdown':!isNest}"
        >
          <svg-icon
            v-if="item.children[0].meta&&item.children[0].meta.icon"
            :icon-class="item.children[0].meta.icon"
          ></svg-icon>
          <span
            v-if="item.children[0].meta&&item.children[0].meta.title"
            slot="title"
          >{{item.children[0].meta.title}}</span>
        </el-menu-item>
      </router-link>

      <el-submenu
        v-else
        :index="item.name||item.path"
        :key="item.name"
      >
        <template slot="title">
          <svg-icon
            v-if="item.meta&&item.meta.icon"
            :icon-class="item.meta.icon"
          ></svg-icon>
          <span
            v-if="item.meta&&item.meta.title"
            slot="title"
          >{{item.meta.title}}</span>
        </template>

        <template
          v-for="child in item.children"
          v-if="!child.hidden"
        >
          <sidebar-item
            :is-nest="true"
            class="nest-menu"
            v-if="child.children&&child.children.length>0"
            :routes="[child]"
            :key="child.path"
          ></sidebar-item>

          <router-link
            v-else
            :to="item.path+'/'+child.path"
            :key="child.name"
          >
            <el-menu-item :index="item.path+'/'+child.path">
              <svg-icon
                v-if="child.meta&&child.meta.icon"
                :icon-class="child.meta.icon"
              ></svg-icon>
              <span
                v-if="child.meta&&child.meta.title"
                slot="title"
              >{{child.meta.title}}</span>
            </el-menu-item>
          </router-link>
        </template>
      </el-submenu>

    </template>
  </div>
</template>

<script>
export default {
  name: 'SidebarItem',
  props: {
    routes: {
      type: Array
    },
    isNest: {
      type: Boolean,
      default: false
    }
  },
  methods: {
    hasOneShowingChildren(children) {
      const showingChildren = children.filter(item => {
        return !item.hidden
      })
      if (showingChildren.length === 1) {
        return true
      }
      return false
    }
  }
}
</script>

```

整体思路：首先先设置本地路由，然后拿到后台返回的路由权限名字，在把本地的路由不符合后台返回的路由名字过滤掉，把得到的路由然后通过饿了么（element）导航栏组件,循环和递归（细节，vue递归只能通过父组件传路由的变量过来，不然出现死循环），循环出来

## 设置滚动条样式

案例：

```css
<style>
    .test {

        width: 80px;

        height: 200px;

        overflow: auto;

        /* float: left; */

        margin: 5px;

        border: none;

    }

    .scrollbar {

        width: 100px;

        height: 300px;

        margin: 0 auto;

    }

    .test-1::-webkit-scrollbar {
        /*滚动条整体样式*/

        width: 10px;
        /*高宽分别对应横竖滚动条的尺寸*/

        height: 10px;

    }

    .test-1::-webkit-scrollbar-thumb {
        /*滚动条里面小方块*/

        border-radius: 10px;

        -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);

        background: #535353;

    }

    .test-1::-webkit-scrollbar-track {
        /*滚动条里面轨道*/

        -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);

        border-radius: 10px;

        background: #EDEDED;

    }
</style>
```

```html
<body>
    <div class="test test-1">

        <div class="scrollbar"></div>

    </div>
</body>
```

## 将超出行数的部分和单行文字超出（溢出） 变成 ...

多行超出

```css
.line2 {
    display: -webkit-box;
    overflow: hidden;
    white-space: normal!important;
    text-overflow: ellipsis;
    word-wrap: break-word;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical
}
```

单行超出

```css
.line{
   text-overflow: ellipsis;
   overflow: hidden;
   white-space: nowrap;
}

```

## 获取字符串指定索引值

```javascript
var a='123456789'
a.date.substring(0, 2)   //'12'
```

## 数字保留多少位小数点

```javascript
var a =12.4129456465
a.toFixed(3)=12.413 
```

注意使用.toFixed会四舍五入，如需要保存3位原本的小数，可以用以下办法实现(保留4位小数，然后用slice删除最后一位)

```javascript
var a =12.4129456465
a.toFixed(4).slice(0,-1)   //'12.412'
```

## 遍历对象的几种方法

1 for.. in..

```javascript
const obj = {
            id:1,
            name:'zhangsan',
            age:18
}

 for(let key  in obj){
        console.log(key + '---' + obj[key])
  }
//输出结果
//id--1
//name--zhangsan
//age---18
```

2 Object.keys（obj） 

```
const obj = {
　　　　id:1,
　　　　name:'zhangsan',
　　　　age:18
}

 console.log(Object.keys(obj))

console.log(Object.values(obj))

```

输出结果： obj对象的key组成的数组

['id','name','age']

 

输出结果：obj对象的value组成的数组

['1','zhangsan','18']

## VUE线上引入script（线上）文件的几种方式

1 第一版代码（直接在操作 Dom ）如下 

```javascript
export default {
  mounted() {
    const s = document.createElement('script');
    s.type = 'text/javascript';
    s.src = 'https://g.alicdn.com/dingding/dinglogin/0.0.2/ddLogin.js';
    document.body.appendChild(s);
  },
}
```

2 使用 `createElement` 方法： 

```javascript
export default {
  components: {
    'dingtalk': {
      render(createElement) {
        return createElement(
          'script',
          {
            attrs: {
              type: 'text/javascript',
              src: 'https://g.alicdn.com/dingding/dinglogin/0.0.2/ddLogin.js',
            },
          },
        );
      },
    },
  },
}
```

```html
// 使用 <dingtalk></dingtalk> 在页面中调用
```

3终极方案, 通过封装一个组件 `remote-js` 实现： 

```javascript
export default {
  components: {
   'remote-js': {
    render(createElement) {
      return createElement('script', { attrs: { type: 'text/javascript', src: this.src }});
    },
    props: {
      src: { type: String, required: true },
    },
  },
  },
}
```

```html
使用方法：

<remote-js src="https://g.alicdn.com/dingding/dinglogin/0.0.2/ddLogin.js"></remote-js>
```

## iframe标签（自己网页中嵌套网站，点击在网页视频在线播放）

```html
<body>
	<div id="tab_1">
		<iframe src="https://www.baidu.com/" height="500" width="1200" frameborder="0" scrolling="0"></iframe>
	</div>
</body>
```

```html
 <embed
        width="1000"
        height="562"
        src="https://www.youtube.com/embed/ACmE7MiJ2mk"
      />
```

```html
 <iframe
        width="1000"
        height="562"
        src="https://www.youtube.com/embed/n_eWOeeQy8k"
        frameborder="0"
        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
      ></iframe>
```

##  target 属性（页面跳转）

```html
<a href="http://www.runoob.com" target="_blank">访问菜鸟教程！</a>
```

## awesome-Swiper（轮播图插件）

[地址]( https://www.swiper.com.cn/ )：https://www.swiper.com.cn/ 

VUE用法：

第一种用法：

```vue
<template>
  <div class="lun">
    123

      <swiper :options="swiperOption"
            ref="mySwiper">
         
      <!-- slides -->
          <swiper-slide><img src="../assets/imgs/2.png"
             alt=""></swiper-slide>
          <swiper-slide><img src="../assets/imgs/3.png"
             alt=""></swiper-slide>
          <swiper-slide><img src="../assets/imgs/4.png"
             alt=""></swiper-slide>
          <swiper-slide><img src="../assets/imgs/5.png"
             alt=""></swiper-slide>
       
         
      <!-- Optional controls -->
          <div class="swiper-pagination"
            slot="pagination"></div>
         
        </swiper>
    <div class="swiper-button-prev"
         slot="button-prev"></div>
        <div class="swiper-button-next"
         slot="button-next"></div>
  </div>

</template>
    
<script>
export default {
  name: 'carrousel',
  data () {
    return {
      swiperOption: {
        // some swiper options/callbacks
        // 所有的参数同 swiper 官方 api 参数
        // ...
          
        loop: true, //是否循环
          //3秒后轮播
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
		//分页器
        pagination: {
          el: '.swiper-pagination',
          clickable: true,//点击分页器切换
          bulletElement: 'li',//设置分页器为什么标签
        },
          //点击控制上下页
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev'
        },
      }
    }
  },
  computed: {
    swiper () {
      return this.$refs.mySwiper.swiper
    }
  }
}

</script>
    
<style lang="scss" scoped>
//轮播图的样式
.lun {
  position: relative;
  margin: 100px auto;
  width: 200px;
  img {
    width: 100%;
  }
}

.swiper {
  width: 800px;
  height: 100px;
}
//修改上下页的样式
.swiper-button-prev,
.swiper-button-next {
  position: absolute;
  width: 27px;
  height: 44px;
  margin-top: -22px;
  z-index: 10;
  cursor: pointer;
  background-size: 27px 44px;
  background-position: center;
  background-repeat: no-repeat;
}
.my-bullet {
  width: 10px;
  height: 10px;
  background: red;
}

/*自定义分页器的样式，这个你自己想要什么样子自己写*/
/deep/ .swiper-pagination-bullet {
  width: 8px;
  height: 8px;
  display: inline-block;
  border-radius: 100%;
  background: #000;
  opacity: 0.2;
}
/*自定义分页器激活时的样式表现*/
/deep/ .swiper-pagination-bullet-active {
  opacity: 1;
  border: 3px solid #8e2829;
  background-color: #8e2829;
}
/deep/ .swiper-pagination li:nth-child(1) {
  width: 20px;
  height: 20px;
}
</style>

```

第二种用法：

```vue
<template>
  <div>
    <swiper :options="swiperOption"
            ref="mySwiper"
            @someSwiperEvent="callback">
      <!-- slides -->
      <swiper-slide>I'm Slide 1</swiper-slide>
      <swiper-slide>I'm Slide 2</swiper-slide>
      <swiper-slide>I'm Slide 3</swiper-slide>
      <swiper-slide>I'm Slide 4</swiper-slide>
      <swiper-slide>I'm Slide 5</swiper-slide>
      <swiper-slide>I'm Slide 6</swiper-slide>
      <swiper-slide>I'm Slide 7</swiper-slide>
      <!-- Optional controls -->
      <div class="swiper-pagination"
           slot="pagination"></div>
      <div class="swiper-button-prev"
           slot="button-prev"></div>
      <div class="swiper-button-next"
           slot="button-next"></div>
      <div class="swiper-scrollbar"
           slot="scrollbar"></div>
    </swiper>
    <swiper :options="swiperOption"
            ref="mySwiper"
            @someSwiperEvent="callback">
      <!-- slides -->
      <swiper-slide>I'm Slide 1</swiper-slide>
      <swiper-slide>I'm Slide 2</swiper-slide>
      <swiper-slide>I'm Slide 3</swiper-slide>
      <swiper-slide>I'm Slide 4</swiper-slide>
      <swiper-slide>I'm Slide 5</swiper-slide>
      <swiper-slide>I'm Slide 6</swiper-slide>
      <swiper-slide>I'm Slide 7</swiper-slide>
      <!-- Optional controls -->
      <div class="swiper-pagination"
           slot="pagination"></div>
      <div class="swiper-button-prev"
           slot="button-prev"></div>
      <div class="swiper-button-next"
           slot="button-next"></div>
      <div class="swiper-scrollbar"
           slot="scrollbar"></div>
    </swiper>
  </div>

</template>

<script>
export default {
  name: 'carrousel',
  data () {
    return {
      swiperOption: {
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
        loop: true,
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
        },
        // some swiper options/callbacks
        // 所有的参数同 swiper 官方 api 参数
        // ...
      }
    }
  },
  computed: {
    swiper () {
      return this.$refs.mySwiper.swiper
    }
  },
  mounted () {
    // current swiper instance
    // 然后你就可以使用当前上下文内的swiper对象去做你想做的事了
    // console.log('this is current swiper instance object', this.swiper)
    // this.swiper.slideTo(3, 1000, false)
  }
}
</script>
```

## 如何在边框上 写字（开口边框）

例子：

 ![img](https://gss0.baidu.com/9fo3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/b812c8fcc3cec3fdfe1656dad388d43f87942770.jpg) 

```html
<div>
    <span class="title">我是边框上的文字</span>
    <span>我是边框内的文字</span>
</div>
```

```css
div{
    width:200px;
    height:100px;
    padding:5px 30px;
    margin:50px;
    border:4px solid #ebcbbe;
}
span.title{
    display:block;
    width:150px;
    height:30px;
    position:relative;
    top:-15px;
    text-align: center;
    background: white;
}
```

## for  in  和for  of循环数组，和区别

先看for in是如何循环数组和输出的

```javascript
var arr=[1,2,{a:1,b:2}]
for(var item in arr){
	console.log(item)
}
```

for in的输出值0，1，2,为字符串类型

然后再看for of 是如何循环数组

```javascript
var arr=[1,2,{a:1,b:2}]
for (var item of arr) {
    console.log(item, 123)
  }
```

for of的输出值1，2,{a:1,b:2}为数组元素值 

两者区别： *for in遍历的是数组的索引（即键名），而for of遍历的是数组元素值。* 

## 判断对象是否为空对象方法

1.将json对象转化为json字符串，再判断该字符串是否为"{}"

```javascript
let obj = {}
console.log(JSON.stringify(obj) == "{}");  //true
```



2.for  in 循环判断

```javascript
let obj = {}
let b = function() {
    for(let key in obj) {
        return false;
    }
    return true;
}
console.log(b());   //true
```

# Object.entries()对象转化为数组和for of循环多个数组

 示例1 -- 传入对象 

```javascript
const obj = { foo: 'bar', baz: 'abc' }; 
console.log(Object.entries(obj));  // [['foo', 'bar'], ['baz', 'abc']]
```

 示例2.1 -- 数组 

```javascript
const arr = [1, 2, 3]; 
console.log(Object.entries(arr));  // [['0', 1], ['1', '2'], ['2', '3']]
```

 示例2.2 -- 数组（数组中包含对象） 

```javascript
const arr1 = [{ a: 1 }, 2, 3]; 
console.log(Object.entries(arr1));  // [['0', { a: 1 }], ['1', '2'], ['2', '3']]
```

 示例2.3 -- 数组（数组中的值全部为对象） 

```
const arr2 = [{ a: 1 }, { b: 2 }, { c: 3 }]; 
console.log(Object.entries(arr2));  // [['0', { a: 1 }], ['1', { b: 2 }], ['2', { c: 3 }]]
```

for of循环多个数

首先我们在开发的过程当中遇到这样一个处理数据的需求

```javascript
const todayILearn = {
  _id: 1,
  content: '今天学习 JSON.stringify()，我很开心！',
  created_at: 'Mon Nov 25 2019 14:03:55 GMT+0800 (中国标准时间)',
  updated_at: 'Mon Nov 25 2019 16:03:55 GMT+0800 (中国标准时间)'
}
复制代码
```

我们需要将上面这个对象处理成下面这个对象

```javascript
const todayILearn = {
  id: 1,
  content: '今天学习 JSON.stringify()，我很开心！',
  createdAt: 'Mon Nov 25 2019 14:03:55 GMT+0800 (中国标准时间)',
  updatedAt: 'Mon Nov 25 2019 16:03:55 GMT+0800 (中国标准时间)'
}
方案一：一次遍历+多声明一个变量
```

```javascript
// 多一个变量存储
const todayILearnTemp = {};
for (const [key, value] of Object.entries(todayILearn)) {
  if (key === "_id") todayILearnTemp["id"] = value;
  else if (key === "created_at") todayILearnTemp["createdAt"] = value;
  else if (key === "updatedAt") todayILearnTemp["updatedAt"] = value;
  else todayILearnTemp[key] = value;
}
console.log(todayILearnTemp);
// 结果：
// { id: 1,
//  content: '今天学习 JSON.stringify()，我很开心！',
//  createdAt: 'Mon Nov 25 2019 14:03:55 GMT+0800 (中国标准时间)',
//  updated_at: 'Mon Nov 25 2019 16:03:55 GMT+0800 (中国标准时间)' 
// }

```

 **方案二：暴力 `delete` 属性和增加属性** 



```javascript
// 极致的暴力美学
todayILearn.id = todayILearn._id;
todayILearn.createdAt = todayILearn.created_at;
todayILearn.updatedAt = todayILearn.updated_at;
delete todayILearn._id;
delete todayILearn.created_at;
delete todayILearn.updated_at;
console.log(todayILearn);
// 	太暴力😢
//{ 
//  content: '今天学习 JSON.stringify()，我很开心！',
//  id: 1,
//  createdAt: 'Mon Nov 25 2019 14:03:55 GMT+0800 (中国标准时间)',
//  updatedAt: 'Mon Nov 25 2019 16:03:55 GMT+0800 (中国标准时间)' 
//}

```

## vue数组或者对象索引改变属性值，页面没有重新渲染（用vue.set解决）

​	vue中 this.$set的用法详解: 当vue的data里边声明或者已经赋值过的对象或者数组（数组里边的值是对象）时，向对象中添加新的属性，如果更新此属性的值，是不会更新视图的。 

```vue
<template>
 <div id="app">
  <p v-for="item in items" :key="item.id">{{item.message}}</p>
  <button class="btn" @click="handClick()">更改数据</button>
 </div>
</template>
 
<script>
export default {
 name: 'App',
 data () {
  return {
   items: [
        { message: "one", id: "1" },
        { message: "two", id: "2" },
        { message: "three", id: "3" }
      ]
  }
 },
 mounted () {
   this.items[0] = { message:'first',id:'4'} //此时对象的值更改了，但是视图没有更新
  // let art = {message:'first',id:"4"}
  // this.$set(this.items,0,art) //$set 可以触发更新视图
 },
 methods: {
  handClick(){
   let change = this.items[0]
   change.message="shen"
   this.$set(this.items,0,change)
  }
 }
}
</script>
 
<style>
 
</style>
```

**调用方法: Vue.set( target , key , value)
**

- target: 要更改的数据源（可以是一个对象或者数组）
- key 要更改的具体数据 （索引）
- value 重新赋的值

也可以直接数组赋值完后再用Vue.set写入：

```vue
<template>
  <div @click="asd">
    {{data[0]}}
  </div>

</template>
<script>

export default {
  name: 'myTree',
  props: {
    treedata: {
      default: function () {
        return []
      }
    }
  },
  data () {
    return {
      data: ['asdf', 'asdfcvz']
    }

  },
  methods: {
    asd () {
      this.data[0] = 'asdfcccc'
      console.log(this.data)
      this.$set(this.data)
    }

  }
}
</script>
```

## 判断对象自身属性是否存在 （ hasOwnProperty）

#### 判断自身属性是否存在

```javascript
var o = new Object();
o.prop = 'exists';

function changeO() {
  o.newprop = o.prop;
  delete o.prop;
}

o.hasOwnProperty('prop');  // true
changeO();
o.hasOwnProperty('prop');  // false
```

#### 判断自身属性与继承属性

```javascript
function foo() {
  this.name = 'foo'
  this.sayHi = function () {
    console.log('Say Hi')
  }
}

foo.prototype.sayGoodBy = function () {
  console.log('Say Good By')
}

let myPro = new foo()

console.log(myPro.name) // foo
console.log(myPro.hasOwnProperty('name')) // true
console.log(myPro.hasOwnProperty('toString')) // false
console.log(myPro.hasOwnProperty('hasOwnProperty')) // fasle
console.log(myPro.hasOwnProperty('sayHi')) // true
console.log(myPro.hasOwnProperty('sayGoodBy')) // false
console.log('sayGoodBy' in myPro) // true
```

